═══════════════════════════════════════════════════════════════════════
   MUSE V3 - ПОЛНЫЙ СПИСОК ДОСТУПНЫХ СЕНСОРОВ И ДАННЫХ
═══════════════════════════════════════════════════════════════════════

📡 ДАТЧИКИ ДВИЖЕНИЯ (Motion Sensors)
────────────────────────────────────────────────────────────────────────
✓ Gyroscope (Гироскоп)
  • 3D угловая скорость (X, Y, Z)
  • Единица измерения: dps (degrees per second)
  • Размер: 6 байт
  • Код: 0x000001
  • Диапазоны: 245/500/1000/2000 dps

✓ Accelerometer (Акселерометр)
  • 3D линейное ускорение (X, Y, Z)
  • Единица измерения: mg (millig)
  • Размер: 6 байт
  • Код: 0x000002
  • Диапазоны: 4/8/32g

✓ Magnetometer (Магнетометр/Компас)
  • 3D магнитное поле (X, Y, Z)
  • Единица измерения: mGauss
  • Размер: 6 байт
  • Код: 0x000004
  • Диапазоны: 4/8/12/16 Gauss

✓ HDR Accelerometer (Акселерометр высокого диапазона)
  • 3D ускорение для экстремальных значений
  • Единица измерения: mg
  • Размер: 6 байт
  • Код: 0x000008
  • Диапазоны: 100/200/400g

✓ IMU (Inertial Measurement Unit)
  • Комбинация Gyro + Accel
  • Размер: 12 байт
  • Код: 0x000003

✓ 9DOF (9 Degrees Of Freedom)
  • Комбинация Gyro + Accel + Mag
  • Размер: 18 байт
  • Код: 0x000007

────────────────────────────────────────────────────────────────────────
🌡️ ЭКОЛОГИЧЕСКИЕ ДАТЧИКИ (Environmental Sensors)
────────────────────────────────────────────────────────────────────────
✓ Temperature + Humidity (Температура + Влажность)
  • Температура: °C
  • Влажность: %
  • Размер: 6 байт
  • Код: 0x000040
  • Частота: 25 Hz

✓ Temperature + Pressure (Температура + Давление)
  • Температура: °C
  • Давление: hPa (гектопаскали)
  • Размер: 6 байт
  • Код: 0x000080
  • Частота: 25 Hz

✓ Range + Light Intensity (Расстояние + Освещенность)
  • Расстояние: mm (миллиметры)
  • Освещенность: lux (люксы)
  • Размер: 6 байт
  • Код: 0x000100
  • Частота: 25 Hz
  • Поддержка разных источников света (LED, солнце, лампы)

────────────────────────────────────────────────────────────────────────
🧭 ОРИЕНТАЦИЯ (Orientation)
────────────────────────────────────────────────────────────────────────
✓ Orientation Quaternion (требует MPE firmware)
  • Кватернион ориентации (W, I, J, K)
  • Нормализованный кватернион
  • Размер: 6 байт
  • Код: 0x000010

────────────────────────────────────────────────────────────────────────
⏱️ СИСТЕМА (System)
────────────────────────────────────────────────────────────────────────
✓ Timestamp (Временная метка)
  • Unix epoch в миллисекундах
  • Размер: 6 байт
  • Код: 0x000020
  • Точность: до миллисекунды

✓ MAD (Man Down Detection - Детекция падения)
  • Уровень тревоги: 0-3
  • Флаг готовности алгоритма
  • Размер: 6 байт
  • Код: 0x000200

✓ Microphone (Микрофон)
  • Аудио данные
  • Размер: 6 байт
  • Код: 0x000400

────────────────────────────────────────────────────────────────────────
💨 КАЧЕСТВО ВОЗДУХА - AQI EXPANSION (Air Quality)
────────────────────────────────────────────────────────────────────────
✓ CO₂ (Углекислый газ)
  • Концентрация CO₂
  • Единица: ppm (parts per million)
  • Размер: 6 байт
  • Код: 0x010000
  • Диапазон: 400-5000 ppm

✓ VOC (Летучие органические соединения)
  • VOC в ppb (parts per billion)
  • AQI индекс (1-5)
  • Эквивалент CO₂
  • Размер: 6 байт
  • Код: 0x040000
  • Включает: Ethanol, Toluene, H₂, Oxidizing Gases

✓ Dust (Пыль / Particulate Matter)
  • PM1.0, PM2.5, PM10
  • Единица: μg/m³ (микрограмм на кубометр)
  • Размер: 6 байт
  • Код: 0x080000

✓ VOC/NOx Indexes
  • Индексы качества VOC и NOx (1-500)
  • Размер: 6 байт
  • Код: 0x100000

✓ CO (Угарный газ)
  • Концентрация CO
  • Единица: ppm
  • Размер: 6 байт
  • Код: 0x200000
  • Диапазон: 0-5000 ppm

✓ Thermistor Temperature
  • Дополнительный датчик температуры
  • Размер: 6 байт
  • Код: 0x400000

────────────────────────────────────────────────────────────────────────
⚙️ ЧАСТОТЫ СБОРА ДАННЫХ (Acquisition Frequencies)
────────────────────────────────────────────────────────────────────────
• 25 Hz   → Код: 0x01
• 50 Hz   → Код: 0x02
• 100 Hz  → Код: 0x04
• 200 Hz  → Код: 0x08
• 400 Hz  → Код: 0x10
• 800 Hz  → Код: 0x20
• 1600 Hz → Код: 0x40

────────────────────────────────────────────────────────────────────────
📦 РЕЖИМЫ STREAMING
────────────────────────────────────────────────────────────────────────
✓ BUFFERED MODE (Буферизованный) - Код: 0x06
  • Данные буферизуются в 128-байтном пакете
  • Частота нотификаций ниже частоты сбора
  • Меньше нагрузки на BLE
  • Небольшая задержка

✓ DIRECT MODE (Прямой) - Код: 0x08
  • Один пакет = одна нотификация
  • Частота нотификаций = частоте сбора
  • Больше нагрузки на BLE
  • Минимальная задержка

────────────────────────────────────────────────────────────────────────
📏 РАЗМЕРЫ ПАКЕТОВ (Packet Sizes)
────────────────────────────────────────────────────────────────────────
ВАЖНО! Размер пакета ДОЛЖЕН быть один из:
• 6 байт
• 12 байт
• 24 байт
• 30 байт
• 60 байт

Любой другой размер вернет ошибку!

────────────────────────────────────────────────────────────────────────
💡 ПРИМЕРЫ КОНФИГУРАЦИЙ
────────────────────────────────────────────────────────────────────────

1️⃣ БАЗОВЫЙ МОНИТОРИНГ ДВИЖЕНИЯ (24 байта)
   • IMU (Gyro + Accel): 12 байт
   • Magnetometer: 6 байт
   • Timestamp: 6 байт
   ✓ ИТОГО: 24 байта

2️⃣ ЭКОЛОГИЧЕСКИЙ МОНИТОРИНГ (24 байта)
   • Temp + Humidity: 6 байт
   • Temp + Pressure: 6 байт
   • Range + Light: 6 байт
   • Timestamp: 6 байт
   ✓ ИТОГО: 24 байта

3️⃣ КАЧЕСТВО ВОЗДУХА (24 байта)
   • CO₂: 6 байт
   • VOC: 6 байт
   • Dust (PM): 6 байт
   • Timestamp: 6 байт
   ✓ ИТОГО: 24 байта

4️⃣ ПОЛНАЯ ОРИЕНТАЦИЯ (30 байт)
   • 9DOF (Gyro + Accel + Mag): 18 байт
   • Orientation Quaternion: 6 байт
   • Timestamp: 6 байт
   ✓ ИТОГО: 30 байт

5️⃣ МАКСИМАЛЬНЫЙ МОНИТОРИНГ (60 байт)
   • IMU (Gyro + Accel): 12 байт
   • Magnetometer: 6 байт
   • Orientation: 6 байт
   • Timestamp: 6 байт
   • Temp + Humidity: 6 байт
   • Temp + Pressure: 6 байт
   • Range + Light: 6 байт
   • MAD: 6 байт
   • CO₂: 6 байт
   ✓ ИТОГО: 60 байт (если AQI expansion установлен)

────────────────────────────────────────────────────────────────────────
🎯 КАК ИСПОЛЬЗОВАТЬ В ПРИЛОЖЕНИИ
────────────────────────────────────────────────────────────────────────

1. Подключитесь к устройству Muse v3
2. На главном экране нажмите "Real-Time Sensor Monitoring"
3. Выберите один из вариантов:
   
   📊 "Quick Start" - Быстрый запуск с настройками по умолчанию
      (IMU + Magnetometer + Timestamp @ 25Hz)
   
   ⚙️ "Configure" - Настроить какие сенсоры отображать
      • Выберите нужные сенсоры
      • Выберите частоту (25-1600 Hz)
      • Выберите режим (Buffered/Direct)
      • Система покажет валидность конфигурации

4. Нажмите "Start Streaming" для начала передачи данных
5. Все данные отображаются в реальном времени с графиками!

────────────────────────────────────────────────────────────────────────
⚠️ ВАЖНЫЕ ЗАМЕЧАНИЯ
────────────────────────────────────────────────────────────────────────

• Orientation Quaternion требует MPE firmware
• AQI сенсоры доступны только если установлен AQI expansion board
• Высокие частоты (>400 Hz) могут вызвать потерю пакетов
• Direct mode на высоких частотах нагружает BLE
• Рекомендуется Buffered mode @ 25-100 Hz для стабильности

────────────────────────────────────────────────────────────────────────
🔧 ТЕХНИЧЕСКИЕ ДЕТАЛИ
────────────────────────────────────────────────────────────────────────

BLE Characteristics:
• Command: d5913036-2d8a-41ee-85b9-4e361aa5c8a7 (20 bytes)
• Data:    04d05b73-e46e-4dad-86c4-467ee8209e3c (128 bytes)

Протокол:
• TLV формат (Type-Length-Value)
• Little-Endian byte order
• Автоматический ACK/NACK

Команды:
• START STREAMING: 0x02 0x05 [state] [mode(3)] [freq]
• STOP STREAMING:  0x02 0x01 0x02 (set state to IDLE)

Состояния:
• IDLE:        0x02 (готов к команд)
• TX BUFFERED: 0x06 (streaming буферизованный)
• TX DIRECT:   0x08 (streaming прямой)

═══════════════════════════════════════════════════════════════════════
   СОЗДАНО: 2026-01-13 | Muse v3 Protocol v2.24
═══════════════════════════════════════════════════════════════════════

